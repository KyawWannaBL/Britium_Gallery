<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Create Account</title>
<link href="https://fonts.googleapis.com/css2?family=Jost:wght@400;600&display=swap" rel="stylesheet">
<style>
  body{margin:0;font-family:Jost;background:#fbf6f1;display:flex;align-items:center;justify-content:center;min-height:100vh}
  .box{width:100%;max-width:420px;background:#fff;padding:40px;border-radius:12px;text-align:center;box-shadow:0 20px 50px rgba(0,0,0,.08)}
  input,button{width:100%;padding:14px;border-radius:8px;border:1px solid #ddd;margin-bottom:15px;box-sizing:border-box}
  button{background:#000;color:#fff;font-weight:700;border:none;cursor:pointer}
  button:hover{background:#333}
  .hidden{display:none}
</style>
</head>
<body>

<div class="box">
  
  <div id="screen1">
    <h2>Create Account</h2>
    <form id="myForm">
      <input id="uName" placeholder="Full Name" required>
      <input id="uEmail" type="email" placeholder="Email" required>
      <input id="uPass" type="password" placeholder="Password (min 6)" required>
      <button type="submit">Create Account</button>
    </form>
    <p><a href="login.html" style="color:#555">Login</a></p>
  </div>

  <div id="screen2" class="hidden">
    <h2 style="color:green">Account Created!</h2>
    <p>Please verify your email.</p>
    <button id="btnVerify" style="background:#c6a87c; color:#000;">Verify Email Now</button>
  </div>

  <div id="screen3" class="hidden">
    <h1 style="font-size:3rem">âœ…</h1>
    <h2>Verified!</h2>
    <p>You can now login.</p>
    <a href="login.html"><button>Go to Login</button></a>
  </div>

</div>

<script>
// Internal Mock Storage
function getUsers(){ return JSON.parse(localStorage.getItem('britium_users')||'[]'); }
function saveUsers(u){ localStorage.setItem('britium_users',JSON.stringify(u)); }

// 1. Handle Form Submit
document.getElementById("myForm").addEventListener("submit", function(e) {
  e.preventDefault(); // STOP THE BROWSER FROM RELOADING
  
  const email = document.getElementById("uEmail").value.toLowerCase();
  const pass = document.getElementById("uPass").value;
  
  if(pass.length < 6) return alert("Password too short");

  const users = getUsers();
  if(users.some(u => u.email === email)) return alert("Email taken");

  users.push({ 
    email: email, 
    password: pass, 
    emailVerified: false 
  });
  saveUsers(users);

  // SWAP SCREENS (No URL change, so NO 404 possible)
  document.getElementById("screen1").classList.add("hidden");
  document.getElementById("screen2").classList.remove("hidden");
});

// 2. Handle Verify Click
document.getElementById("btnVerify").addEventListener("click", function() {
  document.getElementById("btnVerify").innerText = "Verifying...";
  
  setTimeout(function(){
    // SWAP SCREENS AGAIN
    document.getElementById("screen2").classList.add("hidden");
    document.getElementById("screen3").classList.remove("hidden");
  }, 1000);
});
</script>

</body>
</html>
